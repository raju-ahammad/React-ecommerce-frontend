(this.webpackJsonpecomfrontend=this.webpackJsonpecomfrontend||[]).push([[0],{23:function(e,a,t){e.exports=t(35)},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),l=t.n(c),o=(t(28),t(29),t(4)),s=t(1),m=t(20),i=t(21),u="http://amardukan.herokuapp.com/api/",d=t(2),p=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},g=function(e){var a=p()&&p().user.id;if(void 0!==typeof window)return localStorage.removeItem("jwt"),function(e){if(void 0!==typeof window){localStorage.removeItem("cart");localStorage.setItem("cart",JSON.stringify([])),e()}}((function(){})),fetch("".concat(u,"user/logout/").concat(a),{method:"GET"}).then((function(a){console.log("Sign Out Success"),e()})).catch((function(e){return console.log(e)}))},f=function(e){var a=e.component,t=Object(m.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return p()?r.a.createElement(a,e):r.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},E=t(6),b=function(e,a){return e.location.pathname===a?{color:"#3AA64D"}:{color:"ffffff"}},v=Object(s.g)((function(e){var a=e.history;e.path;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark shadow",style:{background:"#32383E"}},r.a.createElement("div",{className:"container-fluid ml-4"},r.a.createElement(o.b,{className:"navbar-brand",to:"/"},"AmarDukan"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto mb-2 mb-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",style:b(a,"/"),"aria-current":"page",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link ",style:b(a,"cart"),"aria-current":"page",to:"cart"},"Cart")),p()&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link ",style:b(a,"dashboard"),"aria-current":"page",to:"dashboard"},"Dashboard")),!p()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link ",style:b(a,"/signin"),"aria-current":"page",to:"signin"},"SignIn")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link ",style:b(a,"/signup"),"aria-current":"page",to:"signup"},"SignUp"))),p()&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link text-warning",style:{cursor:"pointer"},onClick:function(){g((function(){a.push("/")}))}},"Signout"))),r.a.createElement("span",{className:"navbar-text mr-4 text-secondary"},r.a.createElement(o.b,{to:"signin"},r.a.createElement("svg",{width:"2em",height:"2em",viewBox:"0 0 16 16",className:"bi bi-person-plus-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7.5-3a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})))))))})),h=function(e){var a=e.title,t=void 0===a?"myTitle":a,n=e.description,c=void 0===n?"my description":n,l=e.className,o=void 0===l?"bg-dark text-white p-4":l,s=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"jumbotron bg-dark text-white text-center"},r.a.createElement("h2",{className:"display-4 text-center"}," ",t," "),r.a.createElement("p",{className:"lead"}," ",c," ")),r.a.createElement("div",{className:o}," ",s," ")),r.a.createElement("footer",{className:"footer bg-dark mt-auto py-3"},r.a.createElement("div",{className:"container-fluid bg-success text-white text-center py-3"},r.a.createElement("h4",null,"If you got any question contact our mail"),r.a.createElement("button",{className:"btn-lg btn-warning btn"},"Contact Us"),r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:""},"An amazing django react app")))))},N=function(e){var a=e.product,t=a?a.image:"https://www.pexels.com/photo/person-holding-black-slr-camera-2787216/";return r.a.createElement("div",{className:"p-2"},r.a.createElement("img",{src:t,style:{maxHeight:"100%",maxWidth:"100%"},className:"mb-3 rounded",alt:""}))},w=function(e){var a=e.product,t=e.addtocart,c=void 0===t||t,l=e.removeFromCart,o=void 0!==l&&l,m=e.reload,i=void 0===m?void 0:m,u=e.setReload,g=void 0===u?function(e){return e}:u,f=Object(n.useState)(!1),b=Object(E.a)(f,2),v=b[0],h=b[1],w=a?a.name:"Anonymous",y=(a&&a.description,a?a.price:"0.0");return r.a.createElement("div",{className:"card text-white bg-dark"},r.a.createElement("div",{className:"card-header lead text-center"}," ",w," "),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"p-2"},function(e){if(e)return r.a.createElement(s.a,{to:"/cart"})}(v),r.a.createElement(N,{product:a})),r.a.createElement("p",{className:"btn btn-success rounded  btn-sm px-4"},"Tk",y),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},function(e){return c&&r.a.createElement("button",{onClick:e,className:"btn btn-block btn-outline-success mt-2 mb-2"},"Add to Cart")}((function(){p()?(!function(e,a){var t=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push(Object(d.a)({},e)),localStorage.setItem("cart",JSON.stringify(t)),a())}(a,(function(){return h(!0)})),console.log("Add to cart")):console.log("log in first")}))),r.a.createElement("div",{className:"col-12"},function(e){return e&&r.a.createElement("button",{onClick:function(){!function(e){var a=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.map((function(t,n){t.id===e&&a.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(a)))}(a.id),g(!i),console.log("product remove from cart")},className:"btn btn-block btn-outline-danger mt-2 mb-2"},"Remove from cart")}(o)))))},y=function(){var e=Object(n.useState)([]),a=Object(E.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(E.a)(l,2),s=o[0],m=o[1];Object(n.useEffect)((function(){c(function(){if(void 0!==typeof window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))}())}),[s]);return r.a.createElement(h,{title:"cart page",description:"cart page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},function(e){return r.a.createElement("div",{className:"",style:{width:"200px"}},e.map((function(e,a){return r.a.createElement(w,{keu:a,product:e,removeFromCart:!0,addtocart:!1,reload:s,setReload:m})})))}(t)),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",null,"Check out"))))},O=function(){var e=Object(n.useState)([]),a=Object(E.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(E.a)(l,2),s=o[0],m=o[1],i=function(){fetch("".concat(u,"product/"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?m(e.error):c(e)}))};return Object(n.useEffect)((function(){i()}),[]),r.a.createElement(h,{title:"Our Store",description:"welcome to To my store"},r.a.createElement("div",{className:"row"},t.map((function(e,a){return r.a.createElement("div",{key:a,className:"col-3 mb-4"},r.a.createElement(w,{product:e}))}))),s)},j=function(){return r.a.createElement(h,{title:"Product Detail Page",description:"This is single product page"},r.a.createElement(w,null))},S=t(10),x=function(){var e=Object(n.useState)({name:"",email:"five@gmail.com",password:"1234",error:"",success:!1,loading:!1,isRedirect:!1}),a=Object(E.a)(e,2),t=a[0],c=a[1],l=(t.name,t.email),m=t.password,g=(t.error,t.success,t.loading),f=(t.isRedirect,function(e){return function(a){c(Object(d.a)(Object(d.a)({},t),{},Object(S.a)({error:!1},e,a.target.value)))}}),b=function(e){e.preventDefault(),c(Object(d.a)(Object(d.a)({},t),{},{error:!1,loading:!0})),function(e){var a=new FormData;for(var t in e)a.append(t,e[t]);var n,r=Object(i.a)(a.keys());try{for(r.s();!(n=r.n()).done;){var c=n.value;console.log("Mykey:",c)}}catch(l){r.e(l)}finally{r.f()}return fetch("".concat(u,"user/login/"),{method:"POST",body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:l,password:m}).then((function(e){console.log("DAta",e),e.token?function(e,a){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),a())}(e,(function(){console.log("Token Added"),c(Object(d.a)(Object(d.a)({},t),{},{loading:!0}))})):c(Object(d.a)(Object(d.a)({},t),{},{loading:!1}))})).catch((function(e){return console.log(e)}))};return r.a.createElement(h,{title:"this Sign in Page",description:"T shirt Store"},g&&r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h2",null,"loading .....")),r.a.createElement("div",{className:"card mb-4",style:{margin:"auto",width:"50%",background:"#32383E"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form m-4"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{value:l,type:"email",onChange:f("email"),className:"form-control",placeholder:"Please Enter Your Email..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{value:m,type:"password",onChange:f("password"),className:"form-control",placeholder:"Please Enter Your password..."})),r.a.createElement("button",{onClick:b,className:"btn btn-block btn-danger my-4"},"Login"))))),r.a.createElement("h2",{className:"text-center"},"If you are not registerd user please ",r.a.createElement(o.b,{className:"text-decoration-none",to:"signup"},"SignUp")," "),function(){if(p())return r.a.createElement(s.a,{to:"/"})}())},k=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),a=Object(E.a)(e,2),t=a[0],c=a[1],l=t.name,s=t.email,m=t.password,i=t.error,p=t.success,g=function(e){return function(a){c(Object(d.a)(Object(d.a)({},t),{},Object(S.a)({error:!1},e,a.target.value)))}},f=function(e){var a;e.preventDefault(),c(Object(d.a)(Object(d.a)({},t),{},{error:!1})),(a={name:l,email:s,password:m},fetch("".concat(u,"user/"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){console.log("DAta",e),e.email===s?c(Object(d.a)(Object(d.a)({},t),{},{name:"",email:"",password:"",error:"",success:!0})):c(Object(d.a)(Object(d.a)({},t),{},{error:!0,success:!1}))})).catch((function(e){return console.log(e)}))};return r.a.createElement(h,{title:"Sign Up Here",description:"This is Sign up Page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-success ",style:{display:p?"":"none"}},"You are signup success plaese ",r.a.createElement(o.b,{to:"/signin"},"login now!")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger ",style:{display:i?"":"none"}},"check all fields and again submit"))),r.a.createElement("div",{className:"card mb-4",style:{margin:"auto",width:"50%",background:"#32383E"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form m-4"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name",className:"text-light"},"Name"),r.a.createElement("input",{value:l,name:"name",type:"text",onChange:g("name"),className:"form-control",placeholder:"Please Enter Your Name..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{value:s,type:"email",onChange:g("email"),className:"form-control",placeholder:"Please Enter Your Email..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{value:m,type:"password",onChange:g("password"),className:"form-control",placeholder:"Please Enter Your password..."})),r.a.createElement("button",{onClick:f,className:"btn btn-block btn-danger my-4"},"SignUp"))))))},C=function(){return r.a.createElement(h,{title:"Welcome to User Dash Board"},r.a.createElement("h1",null,"This is User Dash Board"))},I=function(){return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:O}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:k}),r.a.createElement(s.b,{path:"/signin",exact:!0,component:x}),r.a.createElement(s.b,{path:"/cart",exact:!0,component:y}),r.a.createElement(s.b,{path:"/detail/:slug",exact:!0,component:j}),r.a.createElement(f,{path:"/dashboard",exact:!0,component:C})))};l.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.7206b7fa.chunk.js.map